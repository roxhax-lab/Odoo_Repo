<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODOO - Sign Up</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; }
    .container { max-width: 400px; margin: 60px auto; background: #fff; padding: 32px 24px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); position: relative; }
        .logo { text-align: center; font-size: 2em; color: #714B67; font-weight: bold; margin-bottom: 24px; }
        label { display: block; margin-bottom: 6px; font-weight: 500; }
        input, select { width: 100%; padding: 8px; margin-bottom: 18px; border: 1px solid #ccc; border-radius: 4px; }
        button { width: 100%; background: #714B67; color: #fff; border: none; padding: 12px; border-radius: 4px; font-size: 1em; cursor: pointer; }
        button:hover { background: #563656; }
    </style>
</head>
<body>
    <div class="container">
    <div class="logo">LedgerIQ</div>
        <form id="signupForm">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Password</label>
            <div style="position:relative;">
                <input type="password" id="password" name="password" required>
                <div id="passwordTooltip" style="display:none; position:absolute; left:0; top:110%; background:#fffbe6; color:#714B67; border:1px solid #e0c97f; border-radius:4px; padding:8px; font-size:0.95em; margin-top:2px; z-index:10; max-width:320px;">
                    Password must be at least 8 characters, include 1 uppercase, 1 lowercase, and 1 special character.
                </div>
            </div>

            <label for="confirmPassword">Confirm Password</label>
            <div style="position:relative;">
                <input type="password" id="confirmPassword" name="confirmPassword" required style="padding-right:36px; box-sizing:border-box; width:100%;">
                <img id="toggleConfirmPassword" src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/icons/eye.svg" alt="Show Password" title="Show Password" style="position:absolute; right:8px; top:50%; transform:translateY(-50%); width:22px; height:22px; cursor:pointer; opacity:0.7;" tabindex="0">
            </div>

            <label for="country">Country</label>
            <select id="country" name="country" required>
                <option value="">Select your country</option>
                <!-- Countries will be populated here -->
            </select>

            <button type="submit">Sign Up</button>
        </form>
    </div>
    <script>
        // Toggle confirm password visibility
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        toggleConfirmPassword.addEventListener('mousedown', function() {
            confirmPasswordInput.type = 'text';
        });
        toggleConfirmPassword.addEventListener('mouseup', function() {
            confirmPasswordInput.type = 'password';
        });
        toggleConfirmPassword.addEventListener('mouseleave', function() {
            confirmPasswordInput.type = 'password';
        });
        // For accessibility: also toggle on touch
        toggleConfirmPassword.addEventListener('touchstart', function(e) {
            e.preventDefault();
            confirmPasswordInput.type = 'text';
        });
        toggleConfirmPassword.addEventListener('touchend', function(e) {
            e.preventDefault();
            confirmPasswordInput.type = 'password';
        });
        // Password tooltip logic
        const passwordInput = document.getElementById('password');
        const tooltip = document.getElementById('passwordTooltip');
        passwordInput.addEventListener('focus', function() {
            tooltip.style.display = 'block';
        });
        passwordInput.addEventListener('blur', function() {
            tooltip.style.display = 'none';
        });
        // List of countries and their currencies
        const countries = [
            { name: "Afghanistan", code: "AF", currency: "AFN" },
            { name: "Albania", code: "AL", currency: "ALL" },
            { name: "Algeria", code: "DZ", currency: "DZD" },
            { name: "Andorra", code: "AD", currency: "EUR" },
            { name: "Angola", code: "AO", currency: "AOA" },
            { name: "Argentina", code: "AR", currency: "ARS" },
            { name: "Armenia", code: "AM", currency: "AMD" },
            { name: "Australia", code: "AU", currency: "AUD" },
            { name: "Austria", code: "AT", currency: "EUR" },
            { name: "Azerbaijan", code: "AZ", currency: "AZN" },
            { name: "Bahamas", code: "BS", currency: "BSD" },
            { name: "Bahrain", code: "BH", currency: "BHD" },
            { name: "Bangladesh", code: "BD", currency: "BDT" },
            { name: "Barbados", code: "BB", currency: "BBD" },
            { name: "Belarus", code: "BY", currency: "BYN" },
            { name: "Belgium", code: "BE", currency: "EUR" },
            { name: "Belize", code: "BZ", currency: "BZD" },
            { name: "Benin", code: "BJ", currency: "XOF" },
            { name: "Bhutan", code: "BT", currency: "BTN" },
            { name: "Bolivia", code: "BO", currency: "BOB" },
            { name: "Bosnia and Herzegovina", code: "BA", currency: "BAM" },
            { name: "Botswana", code: "BW", currency: "BWP" },
            { name: "Brazil", code: "BR", currency: "BRL" },
            { name: "Brunei", code: "BN", currency: "BND" },
            { name: "Bulgaria", code: "BG", currency: "BGN" },
            { name: "Burkina Faso", code: "BF", currency: "XOF" },
            { name: "Burundi", code: "BI", currency: "BIF" },
            { name: "Cabo Verde", code: "CV", currency: "CVE" },
            { name: "Cambodia", code: "KH", currency: "KHR" },
            { name: "Cameroon", code: "CM", currency: "XAF" },
            { name: "Canada", code: "CA", currency: "CAD" },
            { name: "Central African Republic", code: "CF", currency: "XAF" },
            { name: "Chad", code: "TD", currency: "XAF" },
            { name: "Chile", code: "CL", currency: "CLP" },
            { name: "China", code: "CN", currency: "CNY" },
            { name: "Colombia", code: "CO", currency: "COP" },
            { name: "Comoros", code: "KM", currency: "KMF" },
            { name: "Congo", code: "CG", currency: "XAF" },
            { name: "Costa Rica", code: "CR", currency: "CRC" },
            { name: "Croatia", code: "HR", currency: "EUR" },
            { name: "Cuba", code: "CU", currency: "CUP" },
            { name: "Cyprus", code: "CY", currency: "EUR" },
            { name: "Czechia", code: "CZ", currency: "CZK" },
            { name: "Denmark", code: "DK", currency: "DKK" },
            { name: "Djibouti", code: "DJ", currency: "DJF" },
            { name: "Dominica", code: "DM", currency: "XCD" },
            { name: "Dominican Republic", code: "DO", currency: "DOP" },
            { name: "Ecuador", code: "EC", currency: "USD" },
            { name: "Egypt", code: "EG", currency: "EGP" },
            { name: "El Salvador", code: "SV", currency: "USD" },
            { name: "Equatorial Guinea", code: "GQ", currency: "XAF" },
            { name: "Eritrea", code: "ER", currency: "ERN" },
            { name: "Estonia", code: "EE", currency: "EUR" },
            { name: "Eswatini", code: "SZ", currency: "SZL" },
            { name: "Ethiopia", code: "ET", currency: "ETB" },
            { name: "Fiji", code: "FJ", currency: "FJD" },
            { name: "Finland", code: "FI", currency: "EUR" },
            { name: "France", code: "FR", currency: "EUR" },
            { name: "Gabon", code: "GA", currency: "XAF" },
            { name: "Gambia", code: "GM", currency: "GMD" },
            { name: "Georgia", code: "GE", currency: "GEL" },
            { name: "Germany", code: "DE", currency: "EUR" },
            { name: "Ghana", code: "GH", currency: "GHS" },
            { name: "Greece", code: "GR", currency: "EUR" },
            { name: "Grenada", code: "GD", currency: "XCD" },
            { name: "Guatemala", code: "GT", currency: "GTQ" },
            { name: "Guinea", code: "GN", currency: "GNF" },
            { name: "Guinea-Bissau", code: "GW", currency: "XOF" },
            { name: "Guyana", code: "GY", currency: "GYD" },
            { name: "Haiti", code: "HT", currency: "HTG" },
            { name: "Honduras", code: "HN", currency: "HNL" },
            { name: "Hungary", code: "HU", currency: "HUF" },
            { name: "Iceland", code: "IS", currency: "ISK" },
            { name: "India", code: "IN", currency: "INR" },
            { name: "Indonesia", code: "ID", currency: "IDR" },
            { name: "Iran", code: "IR", currency: "IRR" },
            { name: "Iraq", code: "IQ", currency: "IQD" },
            { name: "Ireland", code: "IE", currency: "EUR" },
            { name: "Israel", code: "IL", currency: "ILS" },
            { name: "Italy", code: "IT", currency: "EUR" },
            { name: "Jamaica", code: "JM", currency: "JMD" },
            { name: "Japan", code: "JP", currency: "JPY" },
            { name: "Jordan", code: "JO", currency: "JOD" },
            { name: "Kazakhstan", code: "KZ", currency: "KZT" },
            { name: "Kenya", code: "KE", currency: "KES" },
            { name: "Kiribati", code: "KI", currency: "AUD" },
            { name: "Kuwait", code: "KW", currency: "KWD" },
            { name: "Kyrgyzstan", code: "KG", currency: "KGS" },
            { name: "Laos", code: "LA", currency: "LAK" },
            { name: "Latvia", code: "LV", currency: "EUR" },
            { name: "Lebanon", code: "LB", currency: "LBP" },
            { name: "Lesotho", code: "LS", currency: "LSL" },
            { name: "Liberia", code: "LR", currency: "LRD" },
            { name: "Libya", code: "LY", currency: "LYD" },
            { name: "Liechtenstein", code: "LI", currency: "CHF" },
            { name: "Lithuania", code: "LT", currency: "EUR" },
            { name: "Luxembourg", code: "LU", currency: "EUR" },
            { name: "Madagascar", code: "MG", currency: "MGA" },
            { name: "Malawi", code: "MW", currency: "MWK" },
            { name: "Malaysia", code: "MY", currency: "MYR" },
            { name: "Maldives", code: "MV", currency: "MVR" },
            { name: "Mali", code: "ML", currency: "XOF" },
            { name: "Malta", code: "MT", currency: "EUR" },
            { name: "Marshall Islands", code: "MH", currency: "USD" },
            { name: "Mauritania", code: "MR", currency: "MRU" },
            { name: "Mauritius", code: "MU", currency: "MUR" },
            { name: "Mexico", code: "MX", currency: "MXN" },
            { name: "Micronesia", code: "FM", currency: "USD" },
            { name: "Moldova", code: "MD", currency: "MDL" },
            { name: "Monaco", code: "MC", currency: "EUR" },
            { name: "Mongolia", code: "MN", currency: "MNT" },
            { name: "Montenegro", code: "ME", currency: "EUR" },
            { name: "Morocco", code: "MA", currency: "MAD" },
            { name: "Mozambique", code: "MZ", currency: "MZN" },
            { name: "Myanmar", code: "MM", currency: "MMK" },
            { name: "Namibia", code: "NA", currency: "NAD" },
            { name: "Nauru", code: "NR", currency: "AUD" },
            { name: "Nepal", code: "NP", currency: "NPR" },
            { name: "Netherlands", code: "NL", currency: "EUR" },
            { name: "New Zealand", code: "NZ", currency: "NZD" },
            { name: "Nicaragua", code: "NI", currency: "NIO" },
            { name: "Niger", code: "NE", currency: "XOF" },
            { name: "Nigeria", code: "NG", currency: "NGN" },
            { name: "North Korea", code: "KP", currency: "KPW" },
            { name: "North Macedonia", code: "MK", currency: "MKD" },
            { name: "Norway", code: "NO", currency: "NOK" },
            { name: "Oman", code: "OM", currency: "OMR" },
            { name: "Pakistan", code: "PK", currency: "PKR" },
            { name: "Palau", code: "PW", currency: "USD" },
            { name: "Palestine", code: "PS", currency: "ILS" },
            { name: "Panama", code: "PA", currency: "PAB" },
            { name: "Papua New Guinea", code: "PG", currency: "PGK" },
            { name: "Paraguay", code: "PY", currency: "PYG" },
            { name: "Peru", code: "PE", currency: "PEN" },
            { name: "Philippines", code: "PH", currency: "PHP" },
            { name: "Poland", code: "PL", currency: "PLN" },
            { name: "Portugal", code: "PT", currency: "EUR" },
            { name: "Qatar", code: "QA", currency: "QAR" },
            { name: "Romania", code: "RO", currency: "RON" },
            { name: "Russia", code: "RU", currency: "RUB" },
            { name: "Rwanda", code: "RW", currency: "RWF" },
            { name: "Saint Kitts and Nevis", code: "KN", currency: "XCD" },
            { name: "Saint Lucia", code: "LC", currency: "XCD" },
            { name: "Saint Vincent and the Grenadines", code: "VC", currency: "XCD" },
            { name: "Samoa", code: "WS", currency: "WST" },
            { name: "San Marino", code: "SM", currency: "EUR" },
            { name: "Sao Tome and Principe", code: "ST", currency: "STN" },
            { name: "Saudi Arabia", code: "SA", currency: "SAR" },
            { name: "Senegal", code: "SN", currency: "XOF" },
            { name: "Serbia", code: "RS", currency: "RSD" },
            { name: "Seychelles", code: "SC", currency: "SCR" },
            { name: "Sierra Leone", code: "SL", currency: "SLL" },
            { name: "Singapore", code: "SG", currency: "SGD" },
            { name: "Slovakia", code: "SK", currency: "EUR" },
            { name: "Slovenia", code: "SI", currency: "EUR" },
            { name: "Solomon Islands", code: "SB", currency: "SBD" },
            { name: "Somalia", code: "SO", currency: "SOS" },
            { name: "South Africa", code: "ZA", currency: "ZAR" },
            { name: "South Korea", code: "KR", currency: "KRW" },
            { name: "South Sudan", code: "SS", currency: "SSP" },
            { name: "Spain", code: "ES", currency: "EUR" },
            { name: "Sri Lanka", code: "LK", currency: "LKR" },
            { name: "Sudan", code: "SD", currency: "SDG" },
            { name: "Suriname", code: "SR", currency: "SRD" },
            { name: "Sweden", code: "SE", currency: "SEK" },
            { name: "Switzerland", code: "CH", currency: "CHF" },
            { name: "Syria", code: "SY", currency: "SYP" },
            { name: "Taiwan", code: "TW", currency: "TWD" },
            { name: "Tajikistan", code: "TJ", currency: "TJS" },
            { name: "Tanzania", code: "TZ", currency: "TZS" },
            { name: "Thailand", code: "TH", currency: "THB" },
            { name: "Timor-Leste", code: "TL", currency: "USD" },
            { name: "Togo", code: "TG", currency: "XOF" },
            { name: "Tonga", code: "TO", currency: "TOP" },
            { name: "Trinidad and Tobago", code: "TT", currency: "TTD" },
            { name: "Tunisia", code: "TN", currency: "TND" },
            { name: "Turkey", code: "TR", currency: "TRY" },
            { name: "Turkmenistan", code: "TM", currency: "TMT" },
            { name: "Tuvalu", code: "TV", currency: "AUD" },
            { name: "Uganda", code: "UG", currency: "UGX" },
            { name: "Ukraine", code: "UA", currency: "UAH" },
            { name: "United Arab Emirates", code: "AE", currency: "AED" },
            { name: "United Kingdom", code: "GB", currency: "GBP" },
            { name: "United States", code: "US", currency: "USD" },
            { name: "Uruguay", code: "UY", currency: "UYU" },
            { name: "Uzbekistan", code: "UZ", currency: "UZS" },
            { name: "Vanuatu", code: "VU", currency: "VUV" },
            { name: "Vatican City", code: "VA", currency: "EUR" },
            { name: "Venezuela", code: "VE", currency: "VES" },
            { name: "Vietnam", code: "VN", currency: "VND" },
            { name: "Yemen", code: "YE", currency: "YER" },
            { name: "Zambia", code: "ZM", currency: "ZMW" },
            { name: "Zimbabwe", code: "ZW", currency: "ZWL" }
        ];

        // Populate country dropdown
        const countrySelect = document.getElementById('country');
        countries.forEach(c => {
            const option = document.createElement('option');
            option.value = c.code;
            option.textContent = c.name;
            option.setAttribute('data-currency', c.currency);
            countrySelect.appendChild(option);
        });

        // Set currency in environment (simulated)
        let companyBaseCurrency = null;
        countrySelect.addEventListener('change', function() {
            const selectedOption = countrySelect.options[countrySelect.selectedIndex];
            companyBaseCurrency = selectedOption.getAttribute('data-currency');
            // Simulate setting in environment (for demo, log to console)
            if (companyBaseCurrency) {
                console.log('Company base currency set to:', companyBaseCurrency);
            }
        });
        // Redirect to login page after signup
        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const country = document.getElementById('country').value;
            const errorMsgId = 'passwordErrorMsg';
            let errorMsg = document.getElementById(errorMsgId);
            if (!errorMsg) {
                errorMsg = document.createElement('div');
                errorMsg.id = errorMsgId;
                errorMsg.style.color = 'red';
                errorMsg.style.marginBottom = '12px';
                // Try to insert before country field, else append at end
                const form = document.getElementById('signupForm');
                const countryField = document.getElementById('country');
                if (countryField && countryField.parentElement && countryField.parentElement.parentElement === form) {
                    form.insertBefore(errorMsg, countryField.parentElement);
                } else {
                    form.appendChild(errorMsg);
                }
            }
            // Basic validation
            if (!name || !email || !password || !confirmPassword || !country) {
                errorMsg.textContent = 'All fields are required.';
                return;
            }
            // Password validation
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,})/;
            if (!passwordRegex.test(password)) {
                errorMsg.textContent = 'Password must be at least 8 characters, include 1 uppercase, 1 lowercase, and 1 special character.';
                return;
            }
            if (password !== confirmPassword) {
                errorMsg.textContent = 'Passwords do not match.';
                return;
            }
            errorMsg.textContent = '';
            // Store credentials in localStorage (for demo only)
            localStorage.setItem('odoo_signup_email', email);
            localStorage.setItem('odoo_signup_password', password);
            // Redirect to login page
            window.location.href = 'login.html';
        });
    </script>
</body>
</html>
